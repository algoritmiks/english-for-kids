!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"cards",(function(){return l})),n.d(t,"$",(function(){return p})),n.d(t,"$All",(function(){return d})),n.d(t,"scoreContainer",(function(){return u}));var i={categories:{main:["fly","ride","blow","lemon","dog","bird","dress","happy"],action1:["cry","dance","dive","draw","tofish","fly","hug","jump"],action2:["open","play","point","ride","run","sing","skip","swim"],action3:["blow","eat","listen","read","sit","sniff","train","write"],fruits:["apple","fig","grape","lemon","orange","pear","plum","strawberry"],animals1:["dog","chick","chicken","horse","pig","rabbit","sheep","cat"],animals2:["bird","fish","frog","giraffe","lion","mouse","bear","dolphin"],clothes:["skirt","pants","blouse","dress","boot","shirt","coat","shoe"],emotions:["sad","angry","happy","tired","surprised","scared","smile","laugh"]},menu:{fly:["action1","Action 1"],ride:["action2","Action 2"],blow:["action3","Action 3"],lemon:["fruits","Fruits"],dog:["animals1","Animals 1"],bird:["animals2","Animals 2"],dress:["clothes","Clothes"],happy:["emotions","Emotions"]},catNames:{main:"Main",action1:"Action 1",action2:"Action 2",action3:"Action 3",fruits:"Fruits",animals1:"Animals 1",animals2:"Animals 2",clothes:"Clothes",emotions:"Emotions"},cry:{ru:"плакать",en:"cry",img:"cry.jpg",mp3:"cry.mp3"},dance:{ru:"танцевать",en:"dance",img:"dance.jpg",mp3:"dance.mp3"},dive:{ru:"нырять",en:"dive",img:"dive.jpg",mp3:"dive.mp3"},draw:{ru:"рисовать",en:"draw",img:"draw.jpg",mp3:"draw.mp3"},tofish:{ru:"ловить рыбу",en:"fish",img:"tofish.jpg",mp3:"tofish.mp3"},fly:{ru:"летать",en:"fly",img:"fly.jpg",mp3:"fly.mp3"},hug:{ru:"обнимать",en:"hug",img:"hug.jpg",mp3:"hug.mp3"},jump:{ru:"прыгать",en:"jump",img:"jump.jpg",mp3:"jump.mp3"},open:{ru:"открывать",en:"open",img:"open.jpg",mp3:"open.mp3"},play:{ru:"играть",en:"play",img:"play.jpg",mp3:"play.mp3"},point:{ru:"указывать",en:"point",img:"point.jpg",mp3:"point.mp3"},ride:{ru:"ездить",en:"ride",img:"ride.jpg",mp3:"ride.mp3"},run:{ru:"бегать",en:"run",img:"run.jpg",mp3:"run.mp3"},sing:{ru:"петь",en:"sing",img:"sing.jpg",mp3:"sing.mp3"},skip:{ru:"прыгать, пропускать",en:"skip",img:"skip.jpg",mp3:"skip.mp3"},swim:{ru:"плавать",en:"swim",img:"swim.jpg",mp3:"swim.mp3"},blow:{ru:"дуть",en:"blow",img:"blow.jpg",mp3:"blow.mp3"},eat:{ru:"кушать",en:"eat",img:"eat.jpg",mp3:"eat.mp3"},listen:{ru:"слушать",en:"listen",img:"listen.jpg",mp3:"listen.mp3"},read:{ru:"читать",en:"read",img:"read.jpg",mp3:"read.mp3"},sit:{ru:"сидеть",en:"sit",img:"sit.jpg",mp3:"sit.mp3"},sniff:{ru:"нюхать",en:"sniff",img:"sniff.jpg",mp3:"sniff.mp3"},train:{ru:"тренироваться",en:"train",img:"train.jpg",mp3:"train.mp3"},write:{ru:"писать",en:"write",img:"write.jpg",mp3:"write.mp3"},apple:{ru:"яблоко",en:"apple",img:"apple.jpg",mp3:"apple.mp3"},fig:{ru:"инжир",en:"fig",img:"fig.jpg",mp3:"fig.mp3"},grape:{ru:"виноград",en:"grape",img:"grape.jpg",mp3:"grape.mp3"},orange:{ru:"апельсин",en:"orange",img:"orange.jpg",mp3:"orange.mp3"},lemon:{ru:"лимон",en:"lemon",img:"lemon.jpg",mp3:"lemon.mp3"},pear:{ru:"груша",en:"pear",img:"pear.jpg",mp3:"pear.mp3"},plum:{ru:"слива",en:"plum",img:"plum.jpg",mp3:"plum.mp3"},strawberry:{ru:"клубника",en:"strawberry",img:"strawberry.jpg",mp3:"strawberry.mp3"},cat:{ru:"кошка",en:"cat",img:"cat.jpg",mp3:"cat.mp3"},chick:{ru:"ципленок",en:"chick",img:"chick.jpg",mp3:"chick.mp3"},chicken:{ru:"курица",en:"chicken",img:"chicken.jpg",mp3:"chicken.mp3"},dog:{ru:"собака",en:"dog",img:"dog.jpg",mp3:"dog.mp3"},horse:{ru:"лошадь",en:"horse",img:"horse.jpg",mp3:"horse.mp3"},pig:{ru:"свинья",en:"pig",img:"pig.jpg",mp3:"pig.mp3"},rabbit:{ru:"кролик",en:"rabbit",img:"rabbit.jpg",mp3:"rabbit.mp3"},sheep:{ru:"овца",en:"sheep",img:"sheep.jpg",mp3:"sheep.mp3"},bird:{ru:"птица",en:"bird",img:"bird.jpg",mp3:"bird.mp3"},fish:{ru:"рыба",en:"fish",img:"fish.jpg",mp3:"fish.mp3"},frog:{ru:"лягушка",en:"frog",img:"frog.jpg",mp3:"frog.mp3"},giraffe:{ru:"жираф",en:"giraffe",img:"giraffe.jpg",mp3:"giraffe.mp3"},lion:{ru:"лев",en:"lion",img:"lion.jpg",mp3:"lion.mp3"},mouse:{ru:"мышь",en:"mouse",img:"mouse.jpg",mp3:"mouse.mp3"},bear:{ru:"медведь",en:"bear",img:"bear.jpg",mp3:"bear.mp3"},dolphin:{ru:"дельфин",en:"dolphin",img:"dolphin.jpg",mp3:"dolphin.mp3"},skirt:{ru:"юбка",en:"skirt",img:"skirt.jpg",mp3:"skirt.mp3"},pants:{ru:"брюки",en:"pants",img:"pants.jpg",mp3:"pants.mp3"},blouse:{ru:"блузка",en:"blouse",img:"blouse.jpg",mp3:"blouse.mp3"},dress:{ru:"платье",en:"dress",img:"dress.jpg",mp3:"dress.mp3"},boot:{ru:"ботинок",en:"boot",img:"boot.jpg",mp3:"boot.mp3"},shirt:{ru:"рубашка",en:"shirt",img:"shirt.jpg",mp3:"shirt.mp3"},coat:{ru:"пальто",en:"coat",img:"coat.jpg",mp3:"coat.mp3"},shoe:{ru:"туфли",en:"shoe",img:"shoe.jpg",mp3:"shoe.mp3"},sad:{ru:"грустный",en:"sad",img:"sad.jpg",mp3:"sad.mp3"},angry:{ru:"сердитый",en:"angry",img:"angry.jpg",mp3:"angry.mp3"},happy:{ru:"счастливый",en:"happy",img:"happy.jpg",mp3:"happy.mp3"},tired:{ru:"уставший",en:"tired",img:"tired.jpg",mp3:"tired.mp3"},surprised:{ru:"удивлённый",en:"surprised",img:"surprised.jpg",mp3:"surprised.mp3"},scared:{ru:"испуганный",en:"scared",img:"scared.jpg",mp3:"scared.mp3"},smile:{ru:"улыбка",en:"smile",img:"smile.jpg",mp3:"smile.mp3"},laugh:{ru:"смех",en:"laugh",img:"laugh.jpg",mp3:"laugh.mp3"}};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.img=t.img,"main"===n?(this.categoryID=i.menu[t.en][0],this.categoryName=i.menu[t.en][1],this.addMenuCardToDOM()):(this.mp3=t.mp3,this.ru=t.ru,this.en=t.en,this.addCardToDOM())}var t,n,a;return t=e,(n=[{key:"addMenuCardToDOM",value:function(){var e=document.createElement("div");e.classList="menu-container",e.dataset.name=this.categoryID,l.appendChild(e);var t=document.createElement("div");t.classList="menu-card",e.appendChild(t);var n=document.createElement("div");n.classList="menu-card__img",n.style.backgroundImage="url('./assets/img/".concat(this.img,"')"),t.appendChild(n);var i=document.createElement("div");i.classList="menu-card__description",i.innerText=this.categoryName,t.appendChild(i)}},{key:"addCardToDOM",value:function(){var e=document.createElement("div");e.classList="card-scene",l.appendChild(e);var t=document.createElement("div");t.classList="card-container",t.dataset.name=this.en,e.appendChild(t);var n=document.createElement("div");n.classList="card card__back",t.appendChild(n);var i=document.createElement("div");i.classList="card__img",i.style.backgroundImage="url('./assets/img/".concat(this.img,"')"),n.appendChild(i);var r=document.createElement("div");r.classList="card__description",r.innerText=this.ru,n.appendChild(r);var a=document.createElement("div");a.classList="card",t.appendChild(a);var s=document.createElement("div");s.classList="card__img",s.style.backgroundImage="url('./assets/img/".concat(this.img,"')"),a.appendChild(s);var o=document.createElement("div");o.classList="card__description",o.innerText=this.en,a.appendChild(o);var c=document.createElement("div");c.classList="rotate",o.appendChild(c)}}])&&r(t.prototype,n),a&&r(t,a),e}();function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentCategory="main",this.cards=[],this.isModeGameActive=!1,this.isGameStarted=!1,this.loadCards()}var t,n,r;return t=e,(n=[{key:"loadCards",value:function(e){var t=this;e?(e.forEach((function(e){t.cards.push(new a(i[e],t.currentCategory))})),this.setCardsGameMode(),this.changeCardsMode()):i.categories[this.currentCategory].forEach((function(e){t.cards.push(new a(i[e],t.currentCategory))}))}},{key:"getItemFromLocalStorage",value:function(e){var t=JSON.parse(localStorage.getItem(e)),n={};return t?(n.clics=t.clicks,n.right=t.right,n.wrong=t.wrong,0===t.wrong?n.mistakesPercent=0:n.mistakesPercent=+(100/(t.right+t.wrong||1)*(t.wrong||1)).toFixed(2)):(n.clics=0,n.right=0,n.wrong=0,n.mistakesPercent=0),n}},{key:"generateTableRow",value:function(e,t){var n=this.getItemFromLocalStorage(t);return"\n    <tr>\n    <td>".concat(t,"</td>\n    <td>").concat(i.catNames[e],"</td>\n    <td>").concat(i[t].ru,"</td>\n    <td>").concat(n.clics,"</td> \n    <td>").concat(n.right,"</td>\n    <td>").concat(n.wrong,"</td>\n    <td>").concat(n.mistakesPercent,"</td>\n    </tr>\n    ")}},{key:"loadStatistics",value:function(){var e=this;Object.keys(i.categories).forEach((function(t){var n=p(".table-body");"main"!==t&&i.categories[t].forEach((function(i){n.innerHTML+=e.generateTableRow(t,i)}))}))}},{key:"clearStatisticsTable",value:function(){p(".table-body").innerHTML=""}},{key:"showStatisticsPage",value:function(){this.loadStatistics(),p(".statistics").classList.remove("statistics_none")}},{key:"hideStatisticsPage",value:function(){p(".statistics").classList.add("statistics_none"),this.clearStatisticsTable()}},{key:"changeCategory",value:function(e){this.currentCategory=e,this.cards=[],l.innerHTML="","statistics"===e?this.showStatisticsPage():(this.hideStatisticsPage(),this.loadCards())}},{key:"setStartButtonStatus",value:function(){"main"!==this.currentCategory&&this.isModeGameActive?p(".start-btn").classList.remove("start-btn_hidden"):p(".start-btn").classList.add("start-btn_hidden")}},{key:"changeGameModeActive",value:function(){this.isModeGameActive=!this.isModeGameActive,this.changeCardsMode(),this.setStartButtonStatus()}},{key:"setCardsGameMode",value:function(){d(".card").forEach((function(e){e.firstElementChild.classList.add("card__img_play"),e.lastElementChild.classList.add("card__description_play")}))}},{key:"setCardsTrainingMode",value:function(){d(".card").forEach((function(e){e.firstElementChild.classList.remove("card__img_play"),e.lastElementChild.classList.remove("card__description_play")}))}},{key:"changeCardsMode",value:function(){this.isModeGameActive?this.setCardsGameMode():this.setCardsTrainingMode(),this.setStartButtonStatus()}},{key:"changeGameStarted",value:function(){this.isGameStarted=!this.isGameStarted}},{key:"addRightSingToScoreContainer",value:function(){u.innerHTML+='<div class="score-item score-item_right"></div>'}},{key:"addWrongSingToScoreContainer",value:function(){u.innerHTML+='<div class="score-item score-item_wrong"></div>'}}])&&s(t.prototype,n),r&&s(t,r),e}();function c(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var p=function(e){return document.querySelector(e)},d=function(e){return document.querySelectorAll(e)},u=p(".score-container"),l=p(".cards"),g=new o,h=p(".mp3"),f=[],v={},y=0,b=function(e){h.src=e,h.play()},j=function(e,t){localStorage.setItem(e,t)};p(".clear-statistics-btn").addEventListener("click",(function(){localStorage.clear(),g.clearStatisticsTable(),g.loadStatistics()}));var w=function(e,t){var n=JSON.parse(localStorage.getItem(e));g.isModeGameActive||(n?(n.clicks+=1,localStorage.setItem(e,JSON.stringify(n))):j(e,JSON.stringify({clicks:1,right:0,wrong:0}))),g.isModeGameActive&&(n&&(t?(n.right+=1,localStorage.setItem(e,JSON.stringify(n))):(n.wrong+=1,localStorage.setItem(e,JSON.stringify(n)))),n||j(e,t?JSON.stringify({clicks:0,right:1,wrong:0}):JSON.stringify({clicks:0,right:0,wrong:1})))};l.addEventListener("click",(function(e){if("cards"!==e.target.className){var t=e.target.closest(".menu-container");if(t){var n=t.dataset.name;g.changeCategory(n),k(p('[data-name="'.concat(n,'"]'))),g.changeCardsMode()}var i=e.target.closest(".card-container"),r=e.target.closest(".card-scene");if(!g.isModeGameActive){var a=e.target.closest(".rotate");a&&(i.classList.add("rotate_click"),r.addEventListener("mouseleave",(function(){!function e(t,n){n.classList.remove("rotate_click"),t.removeEventListener("mouseleave",(function(){e(t,n)}))}(r,i)}))),!i||a||i.classList.contains("rotate_click")||(w(i.dataset.name),b("./assets/mp3/".concat(i.dataset.name,".mp3")))}g.isModeGameActive&&g.isGameStarted&&(i.dataset.name!==v.en||i.classList.contains("card-container_done")||(i.classList.add("card-container_done"),w(v.en,!0),b("./assets/mp3/right.mp3"),g.addRightSingToScoreContainer(),_()),i.dataset.name===v.en||i.classList.contains("card-container_done")||(g.addWrongSingToScoreContainer(),y+=1,w(v.en,!1),b("./assets/mp3/wrong.mp3")))}}));var L=function(){p(".hamburger").classList.remove("hamburger_opened"),p(".menu-wrapper").classList.remove("menu-wrapper_open"),p(".menu-shadow").classList.remove("menu-shadow_active"),document.body.style.overflow="visible"};p(".hamburger").addEventListener("click",(function(){p(".menu-wrapper").classList.contains("menu-wrapper_open")?L():(p(".hamburger").classList.add("hamburger_opened"),p(".menu-wrapper").classList.add("menu-wrapper_open"),p(".menu-shadow").classList.add("menu-shadow_active"),document.body.style.overflow="hidden")})),p(".menu-shadow").addEventListener("click",(function(e){e.target.classList.contains("menu-shadow_active")&&L()}));var k=function(e){d(".menu-item").forEach((function(t){t.classList.remove("menu-item_active"),t===e&&t.classList.add("menu-item_active")}))};p(".menu-wrapper").addEventListener("click",(function(e){"LI"===e.target.tagName&&(g.changeCategory(e.target.dataset.name),k(e.target),g.changeCardsMode(),L(),g.isGameStarted&&S())}));p(".switcher").addEventListener("click",(function(e){g.changeGameModeActive(),g.isModeGameActive?e.target.classList.add("switcher_on"):(e.target.classList.remove("switcher_on"),g.isGameStarted&&S())}));var S=function(){p(".start-btn").classList.remove("repeat"),v={},f=[],y=0,u.innerHTML="",d(".card-container").forEach((function(e){e.classList.remove("card-container_done")})),g.changeGameStarted()},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;setTimeout((function(){(v=C())&&b("./assets/mp3/".concat(v.mp3))}),e)},C=function(){if(f.length>0)return f.pop();var e;e=5e3,p(".switcher").classList.remove("switcher_on"),g.changeGameModeActive(),p(".game-finish").classList.remove("game-finish_hidden"),y>0?(p(".game-finish").classList.add("game-finish_loser"),p(".game-finish").dataset.errors="Total ".concat(y," errors."),b("./assets/mp3/loser.mp3")):(p(".game-finish").classList.add("game-finish_winner"),e=3e3,b("./assets/mp3/winner.mp3")),S(),setTimeout((function(){p(".game-finish").classList.add("game-finish_hidden"),p(".game-finish").classList.remove("game-finish_winner"),p(".game-finish").classList.remove("game-finish_loser"),p(".game-finish").dataset.errors="",g.changeCategory("main"),k(p('[data-name="main"]'))}),e)},M=function(){g.changeGameStarted(),f=c(g.cards),f.sort((function(){return Math.random()-.5})),_(0)};p(".start-btn").addEventListener("click",(function(){g.isGameStarted?b("./assets/mp3/".concat(v.mp3)):(p(".start-btn").classList.add("repeat"),M())}));var T=[!1,!1,!1,!1,!1,!1,!1],E=function(e,t){return"num"===e?function(e,n){return n.cells[t].innerHTML-e.cells[t].innerHTML}:function(e,n){return e.cells[t].innerHTML>n.cells[t].innerHTML?1:-1}},A=p(".statistics-table").querySelector("tbody"),G=function(e,t,n){var i=Array.from(A.rows);return n?i.sort(E(t,e)):T[e]?(T[e]=!T[e],i.sort(function(e,t){return"num"===e?function(e,n){return e.cells[t].innerHTML-n.cells[t].innerHTML}:function(e,n){return e.cells[t].innerHTML<n.cells[t].innerHTML?1:-1}}(t,e))):(T[e]=!T[e],i.sort(E(t,e))),i};p(".statistics-table").addEventListener("click",(function(e){if("TH"===e.target.tagName){var t=G(e.target.cellIndex,e.target.dataset.type);A.append.apply(A,c(t))}}));p(".train-words-btn").addEventListener("click",(function(){for(var e=G(6,"num",!0),t=[],n=0;n<8;n++)+e[n].cells[6].innerText>0&&t.push(e[n].cells[0].innerText);g.hideStatisticsPage(),g.loadCards(t)}))}]);